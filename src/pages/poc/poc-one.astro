---
import PrimaryLayout from "@/layouts/PrimaryLayout.astro";
import { One } from "@/components/poc/one";
---

<PrimaryLayout>
  <div class="flex flex-col gap-4 m-12">
    <h1 class="font-bold text-3xl">Pattern 1 : Props & Callbacks</h1>
    <p class="text-muted-foreground text-lg">
      L'approche la plus simple et directe. Le composant parent gÃ¨re tout l'Ã©tat avec <code>$state</code> 
      et <code>$derived</code>, puis passe les donnÃ©es et callbacks aux composants enfants via props. 
      IdÃ©al pour les petites applications ou lorsque la hiÃ©rarchie des composants est peu profonde.
    </p>
    <div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
      <p class="mb-2 font-semibold text-sm">ğŸ”„ Ã‰quivalents dans d'autres frameworks :</p>
      <ul class="space-y-1 text-sm">
        <li><strong>React :</strong> useState + props drilling</li>
        <li><strong>Vue :</strong> data() + props</li>
        <li><strong>Angular :</strong> @Input/@Output decorators</li>
        <li><strong>POO :</strong> Pattern Observer (Events en .NET, Listeners en Java)</li>
      </ul>
    </div>
    <div class="bg-purple-50 dark:bg-purple-900/20 p-4 border border-purple-200 dark:border-purple-800 rounded-lg">
      <p class="mb-2 font-semibold text-purple-900 dark:text-purple-100 text-sm">âœ… Utilisez ce pattern si :</p>
      <ul class="space-y-1 text-purple-800 dark:text-purple-200 text-sm">
        <li>âœ“ Vous dÃ©butez avec Svelte ou les <strong>runes</strong></li>
        <li>âœ“ Votre application est <strong>petite</strong> avec peu de composants</li>
        <li>âœ“ La hiÃ©rarchie est <strong>peu profonde</strong> (2-3 niveaux max)</li>
        <li>âœ“ Vous voulez un code <strong>simple et explicite</strong></li>
        <li>âœ“ Le flux de donnÃ©es est <strong>unidirectionnel</strong> et clair</li>
      </ul>
    </div>
    <div class="bg-red-50 dark:bg-red-900/20 p-4 border border-red-200 dark:border-red-800 rounded-lg">
      <p class="mb-2 font-semibold text-red-900 dark:text-red-100 text-sm">âŒ N'utilisez pas ce pattern si :</p>
      <ul class="space-y-1 text-red-800 dark:text-red-200 text-sm">
        <li>âœ— Votre hiÃ©rarchie de composants est <strong>profonde</strong> (4+ niveaux)</li>
        <li>âœ— Vous avez besoin de partager l'Ã©tat entre des composants <strong>Ã©loignÃ©s ou non liÃ©s</strong></li>
        <li>âœ— Le <strong>prop drilling</strong> devient trop verbeux et difficile Ã  maintenir</li>
        <li>âœ— Vous voulez Ã©viter de passer des props Ã  travers des <strong>composants intermÃ©diaires</strong></li>
        <li>âœ— Votre application va <strong>grandir significativement</strong> (considÃ©rez Pattern 3 ou 5)</li>
      </ul>
    </div>
    <One client:load />
  </div>
</PrimaryLayout>
